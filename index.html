<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Glow&Flow — Фитнес, Красота и Дизайн</title>
  <meta name="description" content="Свежие тренды спорта, красоты и дизайна: подборки, разборы, видео." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#fff7ec; --card:#ffffff; --ink:#18181b; --muted:#6b7280;
      --accent:#ff4db8; --accent-2:#7a5cff; --accent-3:#ff8ad7;
      --ring: color-mix(in srgb, var(--accent) 35%, transparent);
      --shadow: 0 10px 30px rgba(122,92,255,.12);
      --radius:16px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:1200px;margin:auto;padding:20px}
    header{position:sticky;top:0;background:linear-gradient(180deg,#fff 0%,#fff7ec 100%);border-bottom:1px solid #f2e8d9;z-index:20}
    header .row{display:flex;align-items:center;gap:16px;justify-content:space-between}
    .logo{font-family:Montserrat,system-ui;font-weight:800;letter-spacing:.3px}
    .logo span{background:linear-gradient(90deg,var(--accent),var(--accent-2));-webkit-background-clip:text;background-clip:text;color:transparent}
    nav{display:flex;gap:10px;flex-wrap:wrap}
    nav a{padding:10px 14px;border-radius:999px;background:#fff;border:1px solid #f1e6ff;color:#5b21b6}
    nav a.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border-color:transparent}
    .search{display:flex;align-items:center;gap:10px}
    .search input{border:1px solid #e8defc;background:#fff;border-radius:999px;padding:10px 14px;min-width:200px;outline:none}
    .ad-top,.ad-side,.ad-inline{display:grid;place-items:center;border:2px dashed #ffd0f0;color:#a21caf;background:#fff;border-radius:12px}
    .ad-top{height:120px;margin:16px 0}
    .hero{border-radius:20px;padding:28px;background:
      radial-gradient(1200px 300px at 0% 0%, #ffe4f5 0,#fff7ec 55%, transparent 70%),
      linear-gradient(135deg, rgba(255,77,184,.16), rgba(122,92,255,.16));
      border:1px solid #ffe5f7; box-shadow:var(--shadow); margin:8px 0 18px;
    }
    .hero h1{font-family:Montserrat;font-size:36px;margin:0 0 8px;color:#b91c1c}
    .hero p{margin:0;color:#444}
    .chips{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    .chip{background:#fff;border:1px solid #f0e0ff;border-radius:999px;padding:8px 12px;font-size:14px;color:#6b21a8}
    main{display:grid;grid-template-columns:1fr;gap:18px}
    @media(min-width:980px){ main{grid-template-columns:3fr 1fr} }
    .grid{display:grid;grid-template-columns:1fr;gap:16px}
    @media(min-width:720px){ .grid{grid-template-columns:1fr 1fr} }
    @media(min-width:1100px){ .grid{grid-template-columns:1fr 1fr 1fr} }
    .card{background:var(--card);border-radius:var(--radius);border:1px solid #f3eaff;overflow:hidden;box-shadow:var(--shadow);display:flex;flex-direction:column}
    .thumb{aspect-ratio:16/9;background:#f6f0ff;display:block;width:100%;object-fit:cover}
    .card .body{padding:14px}
    .meta{font-size:13px;color:var(--muted);display:flex;gap:8px;align-items:center;margin:6px 0}
    .title{font:600 18px/1.3 Montserrat,Inter;margin:4px 0 6px}
    .btn{display:inline-grid;place-items:center;height:40px;padding:0 14px;border-radius:10px;border:1px solid #eddcff;background:#fff;color:#6b21a8}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:none}
    .video{border-radius:16px;overflow:hidden;border:1px solid #f1e6ff;box-shadow:var(--shadow)}
    iframe{width:100%;height:315px;border:0}
    .side{display:grid;gap:16px}
    .side .widget{background:#fff;border:1px solid #f3eaff;border-radius:14px;box-shadow:var(--shadow);padding:14px}
    footer{margin-top:30px;background:#fff;border-top:1px solid #f2e8d9}
    footer .wrap{display:grid;gap:8px}
    .badge{display:inline-block;padding:2px 8px;border-radius:6px;background:#fdf2ff;color:#7a22a3;font-weight:600;font-size:12px}
    .native-ad{padding:14px;text-align:center;background:#fff0fa;border:1px dashed #ffc6ec;border-radius:12px}
    .hidden{display:none !important}
  </style>
</head>
<body>
  <header>
    <div class="wrap row">
      <div class="logo"><span>Glow&Flow</span> • фитнес • красота • дизайн</div>
      <nav id="tabs">
        <a data-tab="all" class="active">Все</a>
        <a data-tab="fitness">Фитнес</a>
        <a data-tab="beauty">Красота</a>
        <a data-tab="design">Дизайн</a>
        <a data-tab="trends">Тренды</a>
      </nav>
      <div class="search">
        <input id="search" placeholder="Поиск..." />
      </div>
    </div>
  </header>

  <div class="wrap">
    <div class="ad-top" id="ad-top">РЕКЛАМА (970×250 / 320×100)</div>

    <section class="hero">
      <h1>Мировые тренды — просто и красиво</h1>
      <p>Короткие гайды, наглядные карточки, видео и подборки по спорту, уходу и дизайну.</p>
      <div class="chips">
        <span class="chip">Домашние тренировки</span>
        <span class="chip">Скинкейр</span>
        <span class="chip">UI/UX</span>
        <span class="chip">Питание</span>
        <span class="chip">Макияж</span>
      </div>
    </section>

    <main>
      <section>
        <div id="grid" class="grid"></div>

        <div class="video" style="margin-top:20px">
          <iframe id="yt" loading="lazy"
            src="https://www.youtube.com/embed/UBMk30rjy0o"
            title="Тренировка всего тела" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>
          </iframe>
        </div>
      </section>

      <aside class="side">
        <div class="widget">
          <div style="font:700 16px Montserrat;margin-bottom:8px">Подписка</div>
          <p class="muted" style="margin:0 0 8px;color:var(--muted)">Новые материалы — в телеграм:</p>
          <a class="btn primary" href="#" target="_blank" rel="noopener">Открыть канал</a>
        </div>

        <div class="ad-side" style="height:600px">РЕКЛАМА (300×600)</div>

        <div class="widget">
          <div style="font:700 16px Montserrat;margin-bottom:8px">Топ недели</div>
          <ul id="top" style="padding-left:18px;margin:0"></ul>
        </div>
      </aside>
    </main>
  </div>

  <footer>
    <div class="wrap">
      <div>© Glow&Flow. Материалы — для ознакомления, не мед.совет.</div>
      <div style="color:var(--muted);font-size:14px">
        Реклама и сотрудничество: <a href="mailto:hello@example.com">hello@example.com</a>
      </div>
    </div>
  </footer>

  <script>
    const state = { tab:'all', items:[], filtered:[] };

    const elGrid = document.querySelector('#grid');
    const tabs = document.querySelectorAll('#tabs a');
    tabs.forEach(t=>t.onclick = ()=>{
      tabs.forEach(x=>x.classList.remove('active'));
      t.classList.add('active');
      state.tab = t.dataset.tab;
      render();
      scrollTo({top:0,behavior:'smooth'});
    });

    const q = document.querySelector('#search');
    q.addEventListener('input',()=>render());

    // Render cards + simple native ad blocks
    function render(){
      const term = q.value?.trim().toLowerCase();
      let list = [...state.items];
      if(state.tab!=='all') list = list.filter(x=>x.category===state.tab || (state.tab==='trends' && x.trendScore>=80));
      if(term) list = list.filter(x=> (x.title+x.excerpt).toLowerCase().includes(term));

      elGrid.innerHTML = '';
      list.forEach((item, i)=>{
        if(i && i%6===0){
          elGrid.insertAdjacentHTML('beforeend', `<div class="native-ad">Нативная реклама / партнерская интеграция</div>`);
        }
        elGrid.insertAdjacentHTML('beforeend', cardHTML(item));
      });

      // top list (3 best by trendScore)
      const top = [...state.items].sort((a,b)=>b.trendScore-a.trendScore).slice(0,5);
      document.querySelector('#top').innerHTML = top.map(x=>`<li><a href="${x.url||'#'}" target="_blank" rel="noopener">${x.title}</a></li>`).join('');
    }

    function cardHTML(x){
      const badge = x.trendScore>=85 ? `<span class="badge">В тренде</span>` : '';
      return `
      <article class="card">
        <img class="thumb" loading="lazy" src="${x.image}" alt="${x.title}">
        <div class="body">
          <div class="meta">
            <span>${x.categoryName}</span> • <span>${x.read} мин</span> ${badge}
          </div>
          <div class="title">${x.title}</div>
          <p style="margin:6px 0 12px;color:var(--muted)">${x.excerpt}</p>
          <div style="display:flex;gap:8px">
            ${x.url ? `<a class="btn primary" href="${x.url}" target="_blank" rel="noopener">Читать</a>`:``}
            ${x.video ? `<a class="btn" href="#video" onclick="document.getElementById('yt').src='https://www.youtube.com/embed/${x.video}';">Смотреть</a>`:``}
          </div>
        </div>
      </article>`;
    }

    // Load content.json from the same folder
    fetch('content.json?nocache=' + Date.now())
      .then(r=>r.json())
      .then(data=>{
        // map categories to readable names
        const names = {fitness:'Фитнес',beauty:'Красота',design:'Дизайн',trends:'Тренды'};
        state.items = data.map(x=>({...x, categoryName:names[x.category]||'Темы'}));
        render();
      })
      .catch(()=>{ elGrid.innerHTML = '<p>Не удалось загрузить контент.</p>'; });

    // ------- AdSense placeholder (вставь код после одобрения) -------
    // Пример:
    // const s = document.createElement('script');
    // s.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXX';
    // s.crossOrigin = 'anonymous'; document.body.appendChild(s);
  </script>
</body>
</html>